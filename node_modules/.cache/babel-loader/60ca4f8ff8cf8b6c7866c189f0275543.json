{"ast":null,"code":"// export const action = () => async (dispatch) => {}\nimport axios from \"axios\";\nimport { GET_JOBS, GET_USERS, GET_USERNAME, POST_USER, GET_WORKERS_PREMIUM } from './actions_vars';\nexport function getUsers() {\n  return function (dispatch) {\n    axios.get(\"http://localhost:3001/users\").then(u => {\n      dispatch({\n        type: GET_USERS,\n        payload: u.data\n      });\n    }).catch(err => {\n      console.log(err);\n    });\n  };\n}\nexport function getUsersName(search) {\n  return function (dispatch) {\n    axios.get(\"http://localhost:3001/users?name=\" + search).then(u => {\n      dispatch({\n        type: GET_USERNAME,\n        payload: u.data\n      });\n    }).catch(err => {\n      console.log(err);\n    });\n  };\n}\nexport function createUser(payload, jobs) {\n  return async function (dispatch) {\n    const user = await axios.post(\"http://localhost:3001/users\", payload);\n    const user_id = await user.data.ID;\n\n    if (jobs.length) {\n      const worker = {\n        user_id,\n        jobs\n      };\n      const res = await axios.post(\"http://localhost:3001/worker\", worker);\n    }\n\n    dispatch({\n      type: POST_USER\n    });\n    return user;\n  };\n}\nexport function getJobs() {\n  return async function (dispatch) {\n    try {\n      let jobs = await axios.get(\"http://localhost:3001/jobs\");\n      return dispatch({\n        type: GET_JOBS,\n        payload: jobs.data\n      });\n    } catch (error) {\n      console.log(error);\n    }\n  };\n}\nexport function getWokersPremium() {\n  return async function (dispatch) {\n    try {\n      // let premium = await axios.get(\"http://localhost:3001/workers_premium\");\n      return dispatch({\n        type: GET_WORKERS_PREMIUM,\n        payload: premium\n      }); // payload: premium.data\n    } catch (error) {\n      console.log(error);\n    }\n  };\n} // Estos son los workers harcodeados, NO DEBE IR A LA MAIN\n\nconst premium = [{\n  nombre: \"Lucas\",\n  lastname: \"Viotti\",\n  img: \"link\",\n  job: \"Albañil\",\n  status: \"Online\"\n}, {\n  nombre: \"Feli\",\n  lastname: \"Liziano\",\n  img: \"link\",\n  job: \"Obrero\",\n  status: \"Online\"\n}, {\n  nombre: \"Manuel\",\n  lastname: \"Lokito\",\n  img: \"link\",\n  job: \"Pintor\",\n  status: \"Offline\"\n}, {\n  nombre: \"Guillermo\",\n  lastname: \"Gonzales\",\n  img: \"link\",\n  job: \"Durlero\",\n  status: \"Online\"\n}];","map":{"version":3,"names":["axios","GET_JOBS","GET_USERS","GET_USERNAME","POST_USER","GET_WORKERS_PREMIUM","getUsers","dispatch","get","then","u","type","payload","data","catch","err","console","log","getUsersName","search","createUser","jobs","user","post","user_id","ID","length","worker","res","getJobs","error","getWokersPremium","premium","nombre","lastname","img","job","status"],"sources":["C:/Users/Gon/Desktop/Programacion/P-Grupal/Poyecto-Grupal/client/src/redux/actions/actions.js"],"sourcesContent":["// export const action = () => async (dispatch) => {}\r\nimport axios from \"axios\";\r\nimport { GET_JOBS, GET_USERS, GET_USERNAME, POST_USER, GET_WORKERS_PREMIUM } from './actions_vars'\r\n\r\n\r\nexport function getUsers() {\r\n  return function (dispatch) {\r\n    axios\r\n      .get(\"http://localhost:3001/users\")\r\n      .then((u) => {\r\n        dispatch({\r\n          type: GET_USERS,\r\n          payload: u.data,\r\n        });\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n}\r\n\r\nexport function getUsersName(search) {\r\n  return function (dispatch) {\r\n    axios\r\n      .get(\"http://localhost:3001/users?name=\" + search)\r\n      .then((u) => {\r\n        dispatch({\r\n          type: GET_USERNAME,\r\n          payload: u.data,\r\n        });\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n}\r\n\r\nexport function createUser(payload, jobs) {\r\n  return async function (dispatch) {\r\n    const user = await axios.post(\"http://localhost:3001/users\", payload);\r\n    const user_id = await user.data.ID;\r\n    if(jobs.length) {\r\n      const worker = {\r\n        user_id,\r\n        jobs,\r\n\r\n      }\r\n      const res = await axios.post(\"http://localhost:3001/worker\", worker);\r\n    }\r\n\r\n    dispatch({\r\n      type: POST_USER,\r\n    });\r\n    return user;\r\n  };\r\n}\r\n\r\nexport function getJobs() {\r\n  return async function (dispatch) {\r\n    try {\r\n      let jobs = await axios.get(\"http://localhost:3001/jobs\");\r\n      return dispatch({ type: GET_JOBS, payload: jobs.data });\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n}\r\n\r\nexport function getWokersPremium() {\r\n  return async function (dispatch) {\r\n    try {\r\n      // let premium = await axios.get(\"http://localhost:3001/workers_premium\");\r\n      return dispatch({ type: GET_WORKERS_PREMIUM, payload: premium }); // payload: premium.data\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n}\r\n\r\n\r\n// Estos son los workers harcodeados, NO DEBE IR A LA MAIN\r\nconst premium = [\r\n  {\r\n    nombre: \"Lucas\",\r\n    lastname: \"Viotti\",\r\n    img: \"link\",\r\n    job: \"Albañil\",\r\n    status: \"Online\"\r\n  },\r\n  {\r\n    nombre: \"Feli\",\r\n    lastname: \"Liziano\",\r\n    img: \"link\",\r\n    job: \"Obrero\",\r\n    status: \"Online\"\r\n  },\r\n  {\r\n    nombre: \"Manuel\",\r\n    lastname: \"Lokito\",\r\n    img: \"link\",\r\n    job: \"Pintor\",\r\n    status: \"Offline\"\r\n  },\r\n  {\r\n    nombre: \"Guillermo\",\r\n    lastname: \"Gonzales\",\r\n    img: \"link\",\r\n    job: \"Durlero\",\r\n    status: \"Online\"\r\n  }\r\n] \r\n\r\n"],"mappings":"AAAA;AACA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,QAAT,EAAmBC,SAAnB,EAA8BC,YAA9B,EAA4CC,SAA5C,EAAuDC,mBAAvD,QAAkF,gBAAlF;AAGA,OAAO,SAASC,QAAT,GAAoB;EACzB,OAAO,UAAUC,QAAV,EAAoB;IACzBP,KAAK,CACFQ,GADH,CACO,6BADP,EAEGC,IAFH,CAESC,CAAD,IAAO;MACXH,QAAQ,CAAC;QACPI,IAAI,EAAET,SADC;QAEPU,OAAO,EAAEF,CAAC,CAACG;MAFJ,CAAD,CAAR;IAID,CAPH,EAQGC,KARH,CAQUC,GAAD,IAAS;MACdC,OAAO,CAACC,GAAR,CAAYF,GAAZ;IACD,CAVH;EAWD,CAZD;AAaD;AAED,OAAO,SAASG,YAAT,CAAsBC,MAAtB,EAA8B;EACnC,OAAO,UAAUZ,QAAV,EAAoB;IACzBP,KAAK,CACFQ,GADH,CACO,sCAAsCW,MAD7C,EAEGV,IAFH,CAESC,CAAD,IAAO;MACXH,QAAQ,CAAC;QACPI,IAAI,EAAER,YADC;QAEPS,OAAO,EAAEF,CAAC,CAACG;MAFJ,CAAD,CAAR;IAID,CAPH,EAQGC,KARH,CAQUC,GAAD,IAAS;MACdC,OAAO,CAACC,GAAR,CAAYF,GAAZ;IACD,CAVH;EAWD,CAZD;AAaD;AAED,OAAO,SAASK,UAAT,CAAoBR,OAApB,EAA6BS,IAA7B,EAAmC;EACxC,OAAO,gBAAgBd,QAAhB,EAA0B;IAC/B,MAAMe,IAAI,GAAG,MAAMtB,KAAK,CAACuB,IAAN,CAAW,6BAAX,EAA0CX,OAA1C,CAAnB;IACA,MAAMY,OAAO,GAAG,MAAMF,IAAI,CAACT,IAAL,CAAUY,EAAhC;;IACA,IAAGJ,IAAI,CAACK,MAAR,EAAgB;MACd,MAAMC,MAAM,GAAG;QACbH,OADa;QAEbH;MAFa,CAAf;MAKA,MAAMO,GAAG,GAAG,MAAM5B,KAAK,CAACuB,IAAN,CAAW,8BAAX,EAA2CI,MAA3C,CAAlB;IACD;;IAEDpB,QAAQ,CAAC;MACPI,IAAI,EAAEP;IADC,CAAD,CAAR;IAGA,OAAOkB,IAAP;EACD,CAhBD;AAiBD;AAED,OAAO,SAASO,OAAT,GAAmB;EACxB,OAAO,gBAAgBtB,QAAhB,EAA0B;IAC/B,IAAI;MACF,IAAIc,IAAI,GAAG,MAAMrB,KAAK,CAACQ,GAAN,CAAU,4BAAV,CAAjB;MACA,OAAOD,QAAQ,CAAC;QAAEI,IAAI,EAAEV,QAAR;QAAkBW,OAAO,EAAES,IAAI,CAACR;MAAhC,CAAD,CAAf;IACD,CAHD,CAGE,OAAOiB,KAAP,EAAc;MACdd,OAAO,CAACC,GAAR,CAAYa,KAAZ;IACD;EACF,CAPD;AAQD;AAED,OAAO,SAASC,gBAAT,GAA4B;EACjC,OAAO,gBAAgBxB,QAAhB,EAA0B;IAC/B,IAAI;MACF;MACA,OAAOA,QAAQ,CAAC;QAAEI,IAAI,EAAEN,mBAAR;QAA6BO,OAAO,EAAEoB;MAAtC,CAAD,CAAf,CAFE,CAEgE;IACnE,CAHD,CAGE,OAAOF,KAAP,EAAc;MACdd,OAAO,CAACC,GAAR,CAAYa,KAAZ;IACD;EACF,CAPD;AAQD,C,CAGD;;AACA,MAAME,OAAO,GAAG,CACd;EACEC,MAAM,EAAE,OADV;EAEEC,QAAQ,EAAE,QAFZ;EAGEC,GAAG,EAAE,MAHP;EAIEC,GAAG,EAAE,SAJP;EAKEC,MAAM,EAAE;AALV,CADc,EAQd;EACEJ,MAAM,EAAE,MADV;EAEEC,QAAQ,EAAE,SAFZ;EAGEC,GAAG,EAAE,MAHP;EAIEC,GAAG,EAAE,QAJP;EAKEC,MAAM,EAAE;AALV,CARc,EAed;EACEJ,MAAM,EAAE,QADV;EAEEC,QAAQ,EAAE,QAFZ;EAGEC,GAAG,EAAE,MAHP;EAIEC,GAAG,EAAE,QAJP;EAKEC,MAAM,EAAE;AALV,CAfc,EAsBd;EACEJ,MAAM,EAAE,WADV;EAEEC,QAAQ,EAAE,UAFZ;EAGEC,GAAG,EAAE,MAHP;EAIEC,GAAG,EAAE,SAJP;EAKEC,MAAM,EAAE;AALV,CAtBc,CAAhB"},"metadata":{},"sourceType":"module"}