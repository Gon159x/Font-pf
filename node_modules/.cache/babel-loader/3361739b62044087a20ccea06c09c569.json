{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Gon\\\\Desktop\\\\Programacion\\\\P-Grupal\\\\Poyecto-Grupal\\\\client\\\\src\\\\components\\\\Form\\\\Login\\\\Login.jsx\",\n    _s = $RefreshSig$();\n\nimport { useState, useEffect } from \"react\";\nimport * as React from \"react\";\nimport style from \"./Login.module.css\";\nimport Snackbar from \"@mui/material/Snackbar\";\nimport TextField from \"@mui/material/TextField\";\nimport MuiAlert from \"@mui/material/Alert\";\nimport Button from \"@mui/material/Button\";\nimport { useForm } from \"react-hook-form\";\nimport { validator } from \"../validator\";\nimport { authenticate } from \"../../../redux/actions/actions\";\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Link, useNavigate } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Alert = /*#__PURE__*/React.forwardRef(_c = function Alert(props, ref) {\n  return /*#__PURE__*/_jsxDEV(MuiAlert, {\n    elevation: 6,\n    ref: ref,\n    variant: \"filled\",\n    ...props\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 17,\n    columnNumber: 10\n  }, this);\n});\n_c2 = Alert;\n\nconst Login = () => {\n  _s();\n\n  var _errors$email, _errors$password;\n\n  let navigate = useNavigate();\n  const authState = useSelector(state => state.authState);\n  const [open, setOpen] = useState(false);\n  const dispatch = useDispatch();\n  const {\n    register,\n    handleSubmit,\n    formState: {\n      errors\n    }\n  } = useForm();\n  useEffect(() => {\n    if (authState.isLoggedIn) {\n      return navigate(\"/home\");\n    }\n  }, [authState.isLoggedIn]);\n\n  const onSubmit = async data => {\n    const statusLogin = await dispatch(authenticate(data));\n    if (statusLogin === 404 || statusLogin === 400) setOpen(true);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    onSubmit: handleSubmit(onSubmit),\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Ingresar\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: style.inputContainer,\n      children: /*#__PURE__*/_jsxDEV(TextField, {\n        label: \"Email\",\n        type: \"text\",\n        variant: \"filled\",\n        placeholder: \"user@email.com\",\n        name: \"email\",\n        error: errors.email ? true : false,\n        helperText: validator((_errors$email = errors.email) === null || _errors$email === void 0 ? void 0 : _errors$email.type, \"email\"),\n        ...register(\"email\", {\n          required: true,\n          pattern: /^[\\w-\\.]+@([\\w-]+\\.)+[\\w-]{2,4}$/\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: style.inputContainer,\n      children: /*#__PURE__*/_jsxDEV(TextField, {\n        label: \"Password\",\n        type: \"password\",\n        variant: \"filled\",\n        error: errors.password ? true : false,\n        helperText: validator((_errors$password = errors.password) === null || _errors$password === void 0 ? void 0 : _errors$password.type),\n        placeholder: \"password\",\n        name: \"password\",\n        ...register(\"password\", {\n          required: true\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: style.register,\n      children: [\"\\xBFNo tiene una cuenta? \", \" \", /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/users/register\",\n        children: /*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Registrate ahora\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      type: \"submit\",\n      value: \"Ingresar\",\n      variant: \"contained\",\n      children: \"Ingresar\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Snackbar, {\n      open: open,\n      autoHideDuration: 5000,\n      onClose: () => setOpen(false),\n      children: /*#__PURE__*/_jsxDEV(Alert, {\n        severity: \"error\",\n        children: \"Email o contrase\\xF1a erronea\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 43,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Login, \"IJqp36RTADy6lM2CqoDYVHJOfMw=\", false, function () {\n  return [useNavigate, useSelector, useDispatch, useForm];\n});\n\n_c3 = Login;\nexport default Login;\n\nvar _c, _c2, _c3;\n\n$RefreshReg$(_c, \"Alert$React.forwardRef\");\n$RefreshReg$(_c2, \"Alert\");\n$RefreshReg$(_c3, \"Login\");","map":{"version":3,"names":["useState","useEffect","React","style","Snackbar","TextField","MuiAlert","Button","useForm","validator","authenticate","useDispatch","useSelector","Link","useNavigate","Alert","forwardRef","props","ref","Login","navigate","authState","state","open","setOpen","dispatch","register","handleSubmit","formState","errors","isLoggedIn","onSubmit","data","statusLogin","inputContainer","email","type","required","pattern","password"],"sources":["C:/Users/Gon/Desktop/Programacion/P-Grupal/Poyecto-Grupal/client/src/components/Form/Login/Login.jsx"],"sourcesContent":["import { useState, useEffect } from \"react\";\r\nimport * as React from \"react\";\r\nimport style from \"./Login.module.css\";\r\n\r\nimport Snackbar from \"@mui/material/Snackbar\";\r\nimport TextField from \"@mui/material/TextField\";\r\nimport MuiAlert from \"@mui/material/Alert\";\r\nimport Button from \"@mui/material/Button\";\r\n\r\nimport { useForm } from \"react-hook-form\";\r\nimport { validator } from \"../validator\";\r\nimport { authenticate } from \"../../../redux/actions/actions\";\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Link, useNavigate } from \"react-router-dom\";\r\n\r\nconst Alert = React.forwardRef(function Alert(props, ref) {\r\n  return <MuiAlert elevation={6} ref={ref} variant=\"filled\" {...props} />;\r\n});\r\n\r\nconst Login = () => {\r\n  let navigate = useNavigate();\r\n  const authState = useSelector( state => state.authState);\r\n  const [open, setOpen] = useState(false)\r\n  const dispatch = useDispatch();\r\n  const {\r\n    register,\r\n    handleSubmit,\r\n    formState: { errors },\r\n  } = useForm();\r\n\r\n  useEffect(() => {\r\n    if (authState.isLoggedIn){\r\n       return navigate(\"/home\");\r\n    }\r\n },[authState.isLoggedIn]);\r\n\r\n  const onSubmit = async (data) => {\r\n    const statusLogin = await dispatch(authenticate(data))\r\n    if(statusLogin === 404 || statusLogin === 400) setOpen(true);\r\n  };\r\n\r\n  return (\r\n    <form onSubmit={handleSubmit(onSubmit)}>\r\n      <h2>Ingresar</h2>\r\n      <div className={style.inputContainer}>\r\n        <TextField\r\n          label=\"Email\"\r\n          type=\"text\"\r\n          variant=\"filled\"\r\n          placeholder=\"user@email.com\"\r\n          name=\"email\"\r\n          error={errors.email ? true : false}\r\n          helperText={validator(errors.email?.type, \"email\")}\r\n          {...register(\"email\", {\r\n            required: true,\r\n            pattern: /^[\\w-\\.]+@([\\w-]+\\.)+[\\w-]{2,4}$/,\r\n          })}\r\n        />\r\n      </div>\r\n      <div className={style.inputContainer}>\r\n        <TextField\r\n          label=\"Password\"\r\n          type=\"password\"\r\n          variant=\"filled\"\r\n          error={errors.password ? true : false}\r\n          helperText={validator(errors.password?.type)}\r\n          placeholder=\"password\"\r\n          name=\"password\"\r\n          {...register(\"password\", {\r\n            required: true,\r\n          })}\r\n        />\r\n      </div>\r\n      <div className={style.register}>\r\n        ¿No tiene una cuenta? {\" \"}\r\n        <Link to='/users/register'>\r\n          <strong>Registrate ahora</strong>\r\n        </Link>\r\n      </div>\r\n      <Button type=\"submit\" value=\"Ingresar\" variant=\"contained\">\r\n        Ingresar\r\n      </Button>\r\n      <Snackbar\r\n        open={open}\r\n        autoHideDuration={5000}\r\n        onClose={() => setOpen(false)}\r\n      >\r\n        <Alert severity=\"error\">Email o contraseña erronea</Alert>\r\n      </Snackbar>\r\n\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}