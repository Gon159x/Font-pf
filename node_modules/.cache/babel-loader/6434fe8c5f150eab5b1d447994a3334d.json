{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Gon\\\\Desktop\\\\Programacion\\\\P-Grupal\\\\Poyecto-Grupal\\\\client\\\\src\\\\components\\\\NavBar\\\\Profile.jsx\",\n    _s = $RefreshSig$();\n\nimport * as React from 'react';\nimport Typography from '@mui/material/Typography';\nimport Avatar from '@mui/material/Avatar';\nimport Menu from '@mui/material/Menu';\nimport Tooltip from '@mui/material/Tooltip';\nimport MenuItem from '@mui/material/MenuItem';\nimport IconButton from '@mui/material/IconButton';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { temporalLogout } from '../../redux/actions/actions';\nimport { useEffect } from 'react';\nimport { getUsers } from '../../redux/actions/actions';\nimport { useNavigate } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst Profile = () => {\n  _s();\n\n  const dispatch = useDispatch();\n  const [anchorElUser, setAnchorElUser] = React.useState(null);\n  const userinfo = useSelector(state => state.authState);\n  const users = useSelector(state => state.users);\n  const userProfileInfo = users.filter(user => user.id === userinfo.user.id);\n  const navigate = useNavigate();\n  useEffect(() => {\n    if (users.length === 0) {\n      dispatch(getUsers());\n    }\n\n    console.log(users);\n  }, [dispatch]);\n\n  const handleCloseUserMenu = () => {\n    setAnchorElUser(null);\n  };\n\n  const handleOpenProfile = () => {\n    navigate(`/profile/${userProfileInfo[0].Worker.ID}`);\n    setAnchorElUser(null);\n    /*     console.log(userinfo.user)\r\n        console.log(users)\r\n        console.log(userProfileInfo) */\n  };\n\n  const handleOpenUserMenu = event => {\n    setAnchorElUser(event.currentTarget);\n  };\n\n  const handleLogout = () => {\n    dispatch(temporalLogout());\n  };\n\n  const settings = [{\n    name: 'Profile',\n    handler: handleOpenProfile\n  }, {\n    name: \"Account\",\n    handler: handleCloseUserMenu\n  }, {\n    name: \"Dashboard\",\n    handler: handleCloseUserMenu\n  }, {\n    name: \"Logout\",\n    handler: handleLogout\n  }];\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Tooltip, {\n      title: \"Open settings\",\n      children: /*#__PURE__*/_jsxDEV(IconButton, {\n        onClick: handleOpenUserMenu,\n        sx: {\n          p: 0\n        },\n        children: /*#__PURE__*/_jsxDEV(Avatar, {\n          alt: \"Remy Sharp\",\n          src: userinfo.user.img\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Menu, {\n      sx: {\n        mt: \"45px\"\n      },\n      id: \"menu-appbar\",\n      anchorEl: anchorElUser,\n      anchorOrigin: {\n        vertical: \"top\",\n        horizontal: \"right\"\n      },\n      keepMounted: true,\n      transformOrigin: {\n        vertical: \"top\",\n        horizontal: \"right\"\n      },\n      open: Boolean(anchorElUser),\n      onClose: handleCloseUserMenu,\n      children: settings.map(setting => /*#__PURE__*/_jsxDEV(MenuItem, {\n        onClick: setting.handler,\n        children: /*#__PURE__*/_jsxDEV(Typography, {\n          textAlign: \"center\",\n          children: setting.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 13\n        }, this)\n      }, setting.name, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n\n_s(Profile, \"OVSbEQ8UCtKTVjOfAvC1Bqt2cQ4=\", false, function () {\n  return [useDispatch, useSelector, useSelector, useNavigate];\n});\n\n_c = Profile;\nexport default Profile;\n\nvar _c;\n\n$RefreshReg$(_c, \"Profile\");","map":{"version":3,"names":["React","Typography","Avatar","Menu","Tooltip","MenuItem","IconButton","useDispatch","useSelector","temporalLogout","useEffect","getUsers","useNavigate","Profile","dispatch","anchorElUser","setAnchorElUser","useState","userinfo","state","authState","users","userProfileInfo","filter","user","id","navigate","length","console","log","handleCloseUserMenu","handleOpenProfile","Worker","ID","handleOpenUserMenu","event","currentTarget","handleLogout","settings","name","handler","p","img","mt","vertical","horizontal","Boolean","map","setting"],"sources":["C:/Users/Gon/Desktop/Programacion/P-Grupal/Poyecto-Grupal/client/src/components/NavBar/Profile.jsx"],"sourcesContent":["import * as React from 'react';\r\nimport Typography from '@mui/material/Typography';\r\nimport Avatar from '@mui/material/Avatar';\r\nimport Menu from '@mui/material/Menu';\r\nimport Tooltip from '@mui/material/Tooltip';\r\nimport MenuItem from '@mui/material/MenuItem';\r\nimport IconButton from '@mui/material/IconButton';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { temporalLogout } from '../../redux/actions/actions';\r\nimport { useEffect } from 'react';\r\nimport { getUsers } from '../../redux/actions/actions'\r\nimport {  useNavigate } from 'react-router-dom';\r\n\r\n\r\n\r\nconst Profile = () => {\r\n  const dispatch = useDispatch();\r\n  const [anchorElUser, setAnchorElUser] = React.useState(null);\r\n  const userinfo = useSelector(state=> state.authState)\r\n  const users = useSelector(state => state.users)\r\n  const userProfileInfo = users.filter(user=> user.id === userinfo.user.id)\r\n  const navigate = useNavigate()\r\n\r\n\r\n  useEffect(()=>{\r\n    if (users.length === 0) {\r\n    dispatch(getUsers())\r\n    }\r\n    console.log(users)\r\n  },[dispatch])\r\n\r\n  const handleCloseUserMenu = () => {\r\n    setAnchorElUser(null);\r\n  };\r\n  const handleOpenProfile = () => {\r\n    navigate(`/profile/${userProfileInfo[0].Worker.ID}`)\r\n    setAnchorElUser(null);\r\n/*     console.log(userinfo.user)\r\n    console.log(users)\r\n    console.log(userProfileInfo) */\r\n  }\r\n  \r\n  const handleOpenUserMenu = (event) => {\r\n    setAnchorElUser(event.currentTarget);\r\n  };\r\n\r\n  const handleLogout = () => {\r\n    dispatch(temporalLogout());\r\n  }\r\n  \r\n  const settings = [\r\n    {\r\n      name: 'Profile',\r\n      handler: handleOpenProfile\r\n    }, \r\n    {\r\n      name: \"Account\",\r\n      handler: handleCloseUserMenu\r\n    },\r\n    {\r\n      name: \"Dashboard\",\r\n      handler: handleCloseUserMenu\r\n    },\r\n    {\r\n      name: \"Logout\",\r\n      handler: handleLogout\r\n    }];\r\n\r\n  return (\r\n    <>\r\n      <Tooltip title=\"Open settings\">\r\n        <IconButton onClick={handleOpenUserMenu} sx={{ p: 0 }}>\r\n          <Avatar alt=\"Remy Sharp\" src={userinfo.user.img} />\r\n        </IconButton>\r\n      </Tooltip>\r\n      <Menu\r\n        sx={{ mt: \"45px\" }}\r\n        id=\"menu-appbar\"\r\n        anchorEl={anchorElUser}\r\n        anchorOrigin={{\r\n          vertical: \"top\",\r\n          horizontal: \"right\",\r\n        }}\r\n        keepMounted\r\n        transformOrigin={{\r\n          vertical: \"top\",\r\n          horizontal: \"right\",\r\n        }}\r\n        open={Boolean(anchorElUser)}\r\n        onClose={handleCloseUserMenu}\r\n      >\r\n        {settings.map((setting) => (\r\n          <MenuItem key={setting.name} onClick={setting.handler}>\r\n            <Typography textAlign=\"center\">{setting.name}</Typography>\r\n          </MenuItem>\r\n        ))}\r\n      </Menu>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Profile;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}