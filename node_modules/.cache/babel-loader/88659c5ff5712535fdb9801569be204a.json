{"ast":null,"code":"// export const action = () => async (dispatch) => {}\nimport axios from \"axios\";\nimport { LOADING, GET_USERS_CONTRACTS, GET_WORKER_DETAIL, GET_JOBS, GET_USERS, GET_USERNAME, POST_USER, GET_WORKERS_PREMIUM } from './actions_vars'; // export function getContractUsers(ids){\n//   return function(dispatch){\n//     dispatch({ type: LOADING });\n//     return fetch(\"http://localhost:3001/contract/user\",{\n//       method:'GET',\n//       headers: {\n//         'Content-Type': 'application/json'\n//       },\n//       body: JSON.stringify(ids)\n//       })\n//   }\n//   .then(data => data.json())\n//   .then(json => {\n//     dispatch({type:GET_WORKER_DETAIL,payload:json})\n//   })\n// }\n\nexport function getContractUsers(ids) {\n  return function (dispatch) {\n    dispatch({\n      type: LOADING\n    });\n    return fetch(\"http://localhost:3001/contract/user\", {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(ids)\n    }).then(data => {\n      console.log(\"------------->\", data);\n      return data.json();\n    }).then(json => {\n      console.log(\"------------->\", json);\n      dispatch({\n        type: GET_USERS_CONTRACTS,\n        payload: json\n      });\n    });\n  };\n}\nexport function getWorkerDetail(id) {\n  return function (dispatch) {\n    dispatch({\n      type: LOADING\n    });\n    return fetch(\"http://localhost:3001/worker/\" + id).then(data => {\n      return data.json();\n    }).then(json => {\n      dispatch({\n        type: GET_WORKER_DETAIL,\n        payload: json\n      });\n    });\n  };\n}\nexport function getUsers() {\n  return function (dispatch) {\n    axios.get(\"http://localhost:3001/users\").then(u => {\n      dispatch({\n        type: GET_USERS,\n        payload: u.data\n      });\n    }).catch(err => {\n      console.log(err);\n    });\n  };\n}\nexport function getUsersName(search) {\n  return function (dispatch) {\n    axios.get(\"http://localhost:3001/users?name=\" + search).then(u => {\n      dispatch({\n        type: GET_USERNAME,\n        payload: u.data\n      });\n    }).catch(err => {\n      console.log(err);\n    });\n  };\n}\nexport function createUser(payload, jobs) {\n  return async function (dispatch) {\n    const user = await axios.post(\"http://localhost:3001/users\", payload);\n    const user_id = await user.data.ID;\n\n    if (jobs.length) {\n      const worker = {\n        user_id,\n        jobs\n      };\n      const res = await axios.post(\"http://localhost:3001/worker\", worker);\n    }\n\n    dispatch({\n      type: POST_USER\n    });\n    return user;\n  };\n}\nexport function getJobs() {\n  return async function (dispatch) {\n    try {\n      let jobs = await axios.get(\"http://localhost:3001/jobs\");\n      return dispatch({\n        type: GET_JOBS,\n        payload: jobs.data\n      });\n    } catch (error) {\n      console.log(error);\n    }\n  };\n}\nexport function getWokersPremium() {\n  return async function (dispatch) {\n    try {\n      // let premium = await axios.get(\"http://localhost:3001/workers_premium\");\n      return dispatch({\n        type: GET_WORKERS_PREMIUM,\n        payload: premium\n      }); // payload: premium.data\n    } catch (error) {\n      console.log(error);\n    }\n  };\n} // Estos son los workers harcodeados, NO DEBE IR A LA MAIN\n\nconst premium = [{\n  nombre: \"Lucas\",\n  lastname: \"Viotti\",\n  img: \"link\",\n  job: \"Albañil\",\n  status: \"Online\"\n}, {\n  nombre: \"Feli\",\n  lastname: \"Liziano\",\n  img: \"link\",\n  job: \"Obrero\",\n  status: \"Online\"\n}, {\n  nombre: \"Manuel\",\n  lastname: \"Lokito\",\n  img: \"link\",\n  job: \"Pintor\",\n  status: \"Offline\"\n}, {\n  nombre: \"Guillermo\",\n  lastname: \"Gonzales\",\n  img: \"link\",\n  job: \"Durlero\",\n  status: \"Online\"\n}];","map":{"version":3,"names":["axios","LOADING","GET_USERS_CONTRACTS","GET_WORKER_DETAIL","GET_JOBS","GET_USERS","GET_USERNAME","POST_USER","GET_WORKERS_PREMIUM","getContractUsers","ids","dispatch","type","fetch","method","headers","body","JSON","stringify","then","data","console","log","json","payload","getWorkerDetail","id","getUsers","get","u","catch","err","getUsersName","search","createUser","jobs","user","post","user_id","ID","length","worker","res","getJobs","error","getWokersPremium","premium","nombre","lastname","img","job","status"],"sources":["C:/Users/Gon/Desktop/Programacion/P-Grupal/Poyecto-Grupal/client/src/redux/actions/actions.js"],"sourcesContent":["// export const action = () => async (dispatch) => {}\r\nimport axios from \"axios\";\r\nimport {LOADING,GET_USERS_CONTRACTS,GET_WORKER_DETAIL, GET_JOBS, GET_USERS, GET_USERNAME, POST_USER, GET_WORKERS_PREMIUM } from './actions_vars'\r\n\r\n\r\n// export function getContractUsers(ids){\r\n//   return function(dispatch){\r\n//     dispatch({ type: LOADING });\r\n//     return fetch(\"http://localhost:3001/contract/user\",{\r\n//       method:'GET',\r\n//       headers: {\r\n//         'Content-Type': 'application/json'\r\n//       },\r\n//       body: JSON.stringify(ids)\r\n//       })\r\n//   }\r\n//   .then(data => data.json())\r\n//   .then(json => {\r\n//     dispatch({type:GET_WORKER_DETAIL,payload:json})\r\n//   })\r\n// }\r\n\r\nexport function getContractUsers(ids){\r\n  return function(dispatch){\r\n    dispatch({ type: LOADING });\r\n    return fetch(\"http://localhost:3001/contract/user\",{\r\n            method:'GET',\r\n            headers: {\r\n              'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify(ids)\r\n            })\r\n    .then(data =>{ \r\n      console.log(\"------------->\",data)\r\n      return data.json()})\r\n    .then(json => {\r\n      console.log(\"------------->\",json)\r\n      dispatch({type:GET_USERS_CONTRACTS,payload:json})\r\n    })\r\n  }\r\n}\r\n\r\nexport function getWorkerDetail(id){\r\n  \r\n  return function(dispatch){\r\n    \r\n    dispatch({ type: LOADING });\r\n    \r\n    return fetch(\"http://localhost:3001/worker/\"+id)\r\n    .then(data => {\r\n\r\n      return data.json()})\r\n    .then(json => {\r\n      dispatch({type:GET_WORKER_DETAIL,payload:json})\r\n    })\r\n  }\r\n}\r\n\r\nexport function getUsers() {\r\n  return function (dispatch) {\r\n    axios\r\n      .get(\"http://localhost:3001/users\")\r\n      .then((u) => {\r\n        dispatch({\r\n          type: GET_USERS,\r\n          payload: u.data,\r\n        });\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n}\r\n\r\nexport function getUsersName(search) {\r\n  return function (dispatch) {\r\n    axios\r\n      .get(\"http://localhost:3001/users?name=\" + search)\r\n      .then((u) => {\r\n        dispatch({\r\n          type: GET_USERNAME,\r\n          payload: u.data,\r\n        });\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n}\r\n\r\nexport function createUser(payload, jobs) {\r\n  return async function (dispatch) {\r\n    const user = await axios.post(\"http://localhost:3001/users\", payload);\r\n    const user_id = await user.data.ID;\r\n    if(jobs.length) {\r\n      const worker = {\r\n        user_id,\r\n        jobs,\r\n\r\n      }\r\n      const res = await axios.post(\"http://localhost:3001/worker\", worker);\r\n    }\r\n\r\n    dispatch({\r\n      type: POST_USER,\r\n    });\r\n    return user;\r\n  };\r\n}\r\n\r\nexport function getJobs() {\r\n  return async function (dispatch) {\r\n    try {\r\n      let jobs = await axios.get(\"http://localhost:3001/jobs\");\r\n      return dispatch({ type: GET_JOBS, payload: jobs.data });\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n}\r\n\r\nexport function getWokersPremium() {\r\n  return async function (dispatch) {\r\n    try {\r\n      // let premium = await axios.get(\"http://localhost:3001/workers_premium\");\r\n      return dispatch({ type: GET_WORKERS_PREMIUM, payload: premium }); // payload: premium.data\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n}\r\n\r\n\r\n// Estos son los workers harcodeados, NO DEBE IR A LA MAIN\r\nconst premium = [\r\n  {\r\n    nombre: \"Lucas\",\r\n    lastname: \"Viotti\",\r\n    img: \"link\",\r\n    job: \"Albañil\",\r\n    status: \"Online\"\r\n  },\r\n  {\r\n    nombre: \"Feli\",\r\n    lastname: \"Liziano\",\r\n    img: \"link\",\r\n    job: \"Obrero\",\r\n    status: \"Online\"\r\n  },\r\n  {\r\n    nombre: \"Manuel\",\r\n    lastname: \"Lokito\",\r\n    img: \"link\",\r\n    job: \"Pintor\",\r\n    status: \"Offline\"\r\n  },\r\n  {\r\n    nombre: \"Guillermo\",\r\n    lastname: \"Gonzales\",\r\n    img: \"link\",\r\n    job: \"Durlero\",\r\n    status: \"Online\"\r\n  }\r\n] \r\n\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}