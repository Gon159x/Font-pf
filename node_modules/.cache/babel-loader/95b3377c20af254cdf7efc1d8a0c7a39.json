{"ast":null,"code":"import _slicedToArray from\"C:/Users/Gon/Desktop/Programacion/P-Grupal/Poyecto-Grupal/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import*as React from'react';import Typography from'@mui/material/Typography';import Avatar from'@mui/material/Avatar';import Menu from'@mui/material/Menu';import Tooltip from'@mui/material/Tooltip';import MenuItem from'@mui/material/MenuItem';import IconButton from'@mui/material/IconButton';import{useDispatch,useSelector}from'react-redux';import{temporalLogout}from'../../redux/actions/actions';import{useEffect}from'react';import{getUserId}from'../../redux/actions/actions';import{useNavigate}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Profile=function Profile(){var dispatch=useDispatch();var _React$useState=React.useState(null),_React$useState2=_slicedToArray(_React$useState,2),anchorElUser=_React$useState2[0],setAnchorElUser=_React$useState2[1];var userinfo=useSelector(function(state){return state.authState;});var users=useSelector(function(state){return state.users;});var navigate=useNavigate();useEffect(function(){if(users.length===0){dispatch(getUserId(userinfo.user.id));}console.log(users);},[dispatch]);var handleCloseUserMenu=function handleCloseUserMenu(){setAnchorElUser(null);};var handleOpenProfile=function handleOpenProfile(){navigate(\"/profile/\".concat(users.Worker.ID));setAnchorElUser(null);/* console.log(users.Worker.ID)\r\n     console.log(users)\r\n    console.log(userProfileInfo) */};var handleOpenUserMenu=function handleOpenUserMenu(event){setAnchorElUser(event.currentTarget);};var handleLogout=function handleLogout(){dispatch(temporalLogout());};var handleSettings=function handleSettings(){navigate('/profile/settings');};var settings=[{name:'Profile',handler:handleOpenProfile},{name:\"Settings\",handler:handleSettings},{name:\"Dashboard\",handler:handleCloseUserMenu},{name:\"Logout\",handler:handleLogout}];return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Tooltip,{title:\"Open settings\",children:/*#__PURE__*/_jsx(IconButton,{onClick:handleOpenUserMenu,sx:{p:0},children:/*#__PURE__*/_jsx(Avatar,{alt:\"Remy Sharp\",src:userinfo.user.img})})}),/*#__PURE__*/_jsx(Menu,{sx:{mt:\"45px\"},id:\"menu-appbar\",anchorEl:anchorElUser,anchorOrigin:{vertical:\"top\",horizontal:\"right\"},keepMounted:true,transformOrigin:{vertical:\"top\",horizontal:\"right\"},open:Boolean(anchorElUser),onClose:handleCloseUserMenu,children:settings.map(function(setting){return/*#__PURE__*/_jsx(MenuItem,{onClick:setting.handler,children:/*#__PURE__*/_jsx(Typography,{textAlign:\"center\",children:setting.name})},setting.name);})})]});};export default Profile;","map":{"version":3,"names":["React","Typography","Avatar","Menu","Tooltip","MenuItem","IconButton","useDispatch","useSelector","temporalLogout","useEffect","getUserId","useNavigate","Profile","dispatch","useState","anchorElUser","setAnchorElUser","userinfo","state","authState","users","navigate","length","user","id","console","log","handleCloseUserMenu","handleOpenProfile","Worker","ID","handleOpenUserMenu","event","currentTarget","handleLogout","handleSettings","settings","name","handler","p","img","mt","vertical","horizontal","Boolean","map","setting"],"sources":["C:/Users/Gon/Desktop/Programacion/P-Grupal/Poyecto-Grupal/client/src/components/NavBar/Profile.jsx"],"sourcesContent":["import * as React from 'react';\r\nimport Typography from '@mui/material/Typography';\r\nimport Avatar from '@mui/material/Avatar';\r\nimport Menu from '@mui/material/Menu';\r\nimport Tooltip from '@mui/material/Tooltip';\r\nimport MenuItem from '@mui/material/MenuItem';\r\nimport IconButton from '@mui/material/IconButton';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { temporalLogout } from '../../redux/actions/actions';\r\nimport { useEffect } from 'react';\r\nimport {  getUserId } from '../../redux/actions/actions'\r\nimport {  useNavigate } from 'react-router-dom';\r\n\r\n\r\n\r\nconst Profile = () => {\r\n  const dispatch = useDispatch();\r\n  const [anchorElUser, setAnchorElUser] = React.useState(null);\r\n  const userinfo = useSelector(state=> state.authState)\r\n  const users = useSelector(state => state.users)\r\n  const navigate = useNavigate()\r\n\r\n\r\n  useEffect(()=>{\r\n    if (users.length === 0) {\r\n    dispatch(getUserId(userinfo.user.id))\r\n    }\r\n    console.log(users)\r\n  },[dispatch])\r\n\r\n  const handleCloseUserMenu = () => {\r\n    setAnchorElUser(null);\r\n  };\r\n  const handleOpenProfile = () => {\r\n    navigate(`/profile/${users.Worker.ID}`)\r\n    setAnchorElUser(null);\r\n  /* console.log(users.Worker.ID)\r\n     console.log(users)\r\n    console.log(userProfileInfo) */\r\n  }\r\n  \r\n  const handleOpenUserMenu = (event) => {\r\n    setAnchorElUser(event.currentTarget);\r\n  };\r\n\r\n  const handleLogout = () => {\r\n    dispatch(temporalLogout());\r\n  }\r\n  const handleSettings = () => {\r\n    navigate('/profile/settings')\r\n  }\r\n  \r\n  const settings = [\r\n    {\r\n      name: 'Profile',\r\n      handler: handleOpenProfile\r\n    }, \r\n    {\r\n      name: \"Settings\",\r\n      handler: handleSettings\r\n    },\r\n    {\r\n      name: \"Dashboard\",\r\n      handler: handleCloseUserMenu\r\n    },\r\n    {\r\n      name: \"Logout\",\r\n      handler: handleLogout\r\n    }];\r\n\r\n  return (\r\n    <>\r\n      <Tooltip title=\"Open settings\">\r\n        <IconButton onClick={handleOpenUserMenu} sx={{ p: 0 }}>\r\n          <Avatar alt=\"Remy Sharp\" src={userinfo.user.img} />\r\n        </IconButton>\r\n      </Tooltip>\r\n      <Menu\r\n        sx={{ mt: \"45px\" }}\r\n        id=\"menu-appbar\"\r\n        anchorEl={anchorElUser}\r\n        anchorOrigin={{\r\n          vertical: \"top\",\r\n          horizontal: \"right\",\r\n        }}\r\n        keepMounted\r\n        transformOrigin={{\r\n          vertical: \"top\",\r\n          horizontal: \"right\",\r\n        }}\r\n        open={Boolean(anchorElUser)}\r\n        onClose={handleCloseUserMenu}\r\n      >\r\n        {settings.map((setting) => (\r\n          <MenuItem key={setting.name} onClick={setting.handler}>\r\n            <Typography textAlign=\"center\">{setting.name}</Typography>\r\n          </MenuItem>\r\n        ))}\r\n      </Menu>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Profile;\r\n"],"mappings":"sJAAA,MAAO,GAAKA,MAAZ,KAAuB,OAAvB,CACA,MAAOC,WAAP,KAAuB,0BAAvB,CACA,MAAOC,OAAP,KAAmB,sBAAnB,CACA,MAAOC,KAAP,KAAiB,oBAAjB,CACA,MAAOC,QAAP,KAAoB,uBAApB,CACA,MAAOC,SAAP,KAAqB,wBAArB,CACA,MAAOC,WAAP,KAAuB,0BAAvB,CACA,OAASC,WAAT,CAAsBC,WAAtB,KAAyC,aAAzC,CACA,OAASC,cAAT,KAA+B,6BAA/B,CACA,OAASC,SAAT,KAA0B,OAA1B,CACA,OAAUC,SAAV,KAA2B,6BAA3B,CACA,OAAUC,WAAV,KAA6B,kBAA7B,C,6IAIA,GAAMC,QAAO,CAAG,QAAVA,QAAU,EAAM,CACpB,GAAMC,SAAQ,CAAGP,WAAW,EAA5B,CACA,oBAAwCP,KAAK,CAACe,QAAN,CAAe,IAAf,CAAxC,oDAAOC,YAAP,qBAAqBC,eAArB,qBACA,GAAMC,SAAQ,CAAGV,WAAW,CAAC,SAAAW,KAAK,QAAGA,MAAK,CAACC,SAAT,EAAN,CAA5B,CACA,GAAMC,MAAK,CAAGb,WAAW,CAAC,SAAAW,KAAK,QAAIA,MAAK,CAACE,KAAV,EAAN,CAAzB,CACA,GAAMC,SAAQ,CAAGV,WAAW,EAA5B,CAGAF,SAAS,CAAC,UAAI,CACZ,GAAIW,KAAK,CAACE,MAAN,GAAiB,CAArB,CAAwB,CACxBT,QAAQ,CAACH,SAAS,CAACO,QAAQ,CAACM,IAAT,CAAcC,EAAf,CAAV,CAAR,CACC,CACDC,OAAO,CAACC,GAAR,CAAYN,KAAZ,EACD,CALQ,CAKP,CAACP,QAAD,CALO,CAAT,CAOA,GAAMc,oBAAmB,CAAG,QAAtBA,oBAAsB,EAAM,CAChCX,eAAe,CAAC,IAAD,CAAf,CACD,CAFD,CAGA,GAAMY,kBAAiB,CAAG,QAApBA,kBAAoB,EAAM,CAC9BP,QAAQ,oBAAaD,KAAK,CAACS,MAAN,CAAaC,EAA1B,EAAR,CACAd,eAAe,CAAC,IAAD,CAAf,CACF;AACF;AACA,mCACG,CAND,CAQA,GAAMe,mBAAkB,CAAG,QAArBA,mBAAqB,CAACC,KAAD,CAAW,CACpChB,eAAe,CAACgB,KAAK,CAACC,aAAP,CAAf,CACD,CAFD,CAIA,GAAMC,aAAY,CAAG,QAAfA,aAAe,EAAM,CACzBrB,QAAQ,CAACL,cAAc,EAAf,CAAR,CACD,CAFD,CAGA,GAAM2B,eAAc,CAAG,QAAjBA,eAAiB,EAAM,CAC3Bd,QAAQ,CAAC,mBAAD,CAAR,CACD,CAFD,CAIA,GAAMe,SAAQ,CAAG,CACf,CACEC,IAAI,CAAE,SADR,CAEEC,OAAO,CAAEV,iBAFX,CADe,CAKf,CACES,IAAI,CAAE,UADR,CAEEC,OAAO,CAAEH,cAFX,CALe,CASf,CACEE,IAAI,CAAE,WADR,CAEEC,OAAO,CAAEX,mBAFX,CATe,CAaf,CACEU,IAAI,CAAE,QADR,CAEEC,OAAO,CAAEJ,YAFX,CAbe,CAAjB,CAkBA,mBACE,wCACE,KAAC,OAAD,EAAS,KAAK,CAAC,eAAf,uBACE,KAAC,UAAD,EAAY,OAAO,CAAEH,kBAArB,CAAyC,EAAE,CAAE,CAAEQ,CAAC,CAAE,CAAL,CAA7C,uBACE,KAAC,MAAD,EAAQ,GAAG,CAAC,YAAZ,CAAyB,GAAG,CAAEtB,QAAQ,CAACM,IAAT,CAAciB,GAA5C,EADF,EADF,EADF,cAME,KAAC,IAAD,EACE,EAAE,CAAE,CAAEC,EAAE,CAAE,MAAN,CADN,CAEE,EAAE,CAAC,aAFL,CAGE,QAAQ,CAAE1B,YAHZ,CAIE,YAAY,CAAE,CACZ2B,QAAQ,CAAE,KADE,CAEZC,UAAU,CAAE,OAFA,CAJhB,CAQE,WAAW,KARb,CASE,eAAe,CAAE,CACfD,QAAQ,CAAE,KADK,CAEfC,UAAU,CAAE,OAFG,CATnB,CAaE,IAAI,CAAEC,OAAO,CAAC7B,YAAD,CAbf,CAcE,OAAO,CAAEY,mBAdX,UAgBGS,QAAQ,CAACS,GAAT,CAAa,SAACC,OAAD,qBACZ,KAAC,QAAD,EAA6B,OAAO,CAAEA,OAAO,CAACR,OAA9C,uBACE,KAAC,UAAD,EAAY,SAAS,CAAC,QAAtB,UAAgCQ,OAAO,CAACT,IAAxC,EADF,EAAeS,OAAO,CAACT,IAAvB,CADY,EAAb,CAhBH,EANF,GADF,CA+BD,CAtFD,CAwFA,cAAezB,QAAf"},"metadata":{},"sourceType":"module"}